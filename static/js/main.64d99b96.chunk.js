(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){},39:function(e,t,a){e.exports=a(78)},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),c=a.n(o),l=(a(44),a(46),a(6)),s=a(7),i=a(9),d=a(8),m=a(10),u=(a(48),a(81)),p=a(82),h=a(83),f=a(14),v=a(11),E=a(23),b=a.n(E),g=a(36),_=a.n(g),N=function(e){return{type:"SEARCH_PRODUCTS",products:e}},y=function(e){return{type:"ADD_TO_COLLECTION",product:e}},O=function(){return{type:"OPEN_MODAL"}},C=function(){return{type:"CLOSE_MODAL"}},S=a(79),D=a(17),j=a.n(D),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={homeSearch:"",favorite:!1,sort:""},a.handleChange=function(e){var t=e.target,n=t.name,r=r="checkbox"===t.type?t.checked:t.value;a.setState(Object(f.a)({},n,r))},a.addFavorite=function(e,t){(0,a.props.add_favorite)(!e,t)},a.handleAddCollection=function(e){var t=a.props,n=t.add_to_collection;(0,t.open_modal)(),e&&n(e)},a.handleDelete=function(e){(0,a.props.delete_product)(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.init_home_products)(),this.setState({currentDisplay:this.props.home_products})}},{key:"render",value:function(){var e=this,t=this.props.home_products,a=this.state,n=a.homeSearch,o=a.favorite,c=a.sort;return n&&(t=t.filter(function(e){return e.title.toLowerCase().includes(n.toLowerCase())})),o&&(t=t.filter(function(e){return e.favorite===o})),"asc"===c?t=t.sort(function(e,t){if(e.title.toLowerCase()<t.title.toLowerCase())return-1}):"desc"===c?t=t.sort(function(e,t){if(e.title.toLowerCase()>t.title.toLowerCase())return-1}):"dateAsc"===c?t=t.sort(function(e,t){return new Date(e.date_created)-new Date(t.date_created)}):"dateDesc"===c&&(t=t.sort(function(e,t){var a=new Date(e.date_created);return new Date(t.date_created)-a})),r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"primary-heading"},r.a.createElement("h2",{className:"nasa-collection"},"NASA Collection"),r.a.createElement("div",{className:"box-btn"},r.a.createElement(S.a,{to:"/nasa-search",className:"btn btn--purple"},r.a.createElement("span",{className:"icon icon-add"})," ",r.a.createElement("span",null,"Add new item")))),r.a.createElement("div",{className:"search-bar"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search...",name:"homeSearch",value:this.state.homeSearch,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group-wrap"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"favorite"},"Favorite"),r.a.createElement("input",{type:"checkbox",className:"form-control",name:"favorite",checked:this.state.favorite,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"sort"},"Sort"),r.a.createElement("select",{name:"sort",className:"form-control",value:this.state.sort,onChange:this.handleChange},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"Choose sort method"),r.a.createElement("option",{value:"asc"},"Title - ASC"),r.a.createElement("option",{value:"desc"},"Title - DESC"),r.a.createElement("option",{value:"dateAsc"},"Date - ASC"),r.a.createElement("option",{value:"dateDesc"},"Date - DESC"))))),r.a.createElement("div",{className:"nasa-search-wrap"},t&&t.map(function(t){return r.a.createElement("div",{key:t.nasaId,className:"nasa-search-box"},r.a.createElement("div",{className:"wrap-thumbnail"},r.a.createElement(S.a,{to:{pathname:"/video/".concat(t.nasaId),item:t}},r.a.createElement("img",{src:t.thumbnail,className:"thumbnail",alt:""})),r.a.createElement(S.a,{to:{pathname:"/video/".concat(t.nasaId),item:t},className:"play-icon"},r.a.createElement("span",{className:"icon icon-play"}))),r.a.createElement("div",{className:"heading"},r.a.createElement("span",{className:"created-date"},j()(t.date_created).format("MMM Do, YYYY"))),r.a.createElement("h3",{className:"title"},t.title),r.a.createElement("p",{className:"description"},"".concat(t.desc.substr(0,100),"...")),r.a.createElement("div",{className:"behavior-box"},r.a.createElement("span",{className:"icon ".concat(t.favorite?"icon-heart-filled active-favorite":"icon-heart"),onClick:function(){return e.addFavorite(t.favorite,t.nasaId)}}),r.a.createElement("span",{className:"icon icon-trash-bin",onClick:function(){return e.handleDelete(t.id)}}),r.a.createElement(S.a,{to:{pathname:"/edit/".concat(t.nasaId),item:t},onClick:function(){return e.handleAddCollection(t)}},r.a.createElement("span",{className:"icon icon-pen"}))))})))}}]),t}(n.Component),I=Object(v.b)(function(e){return{home_products:e.home_products}},{init_home_products:function(){return{type:"INIT_HOME_PRODUCT"}},add_favorite:function(e,t){return{type:"ADD_FAVORITE",favorite:e,id:t}},open_modal:O,add_to_collection:y,delete_product:function(e){return{type:"DELETE_PRODUCT",id:e}}})(w),k=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"lds-hourglass"}))}}]),t}(n.Component),A=(a(33),a(80)),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={select:null,isModal:a.props.isModal,title:"",desc:"",media_type:"",thumbnail:"",videoUrl:"",redirect:!1,nasaId:a.props.product.nasaId},a.handleChange=function(e){var t=e.target,n=t.value;a.setState(Object(f.a)({},t.name,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.add_product,r=t.product,o=t.location,c=t.edit_product,l=t.close_modal,s=null;(a.setState({redirect:!0}),o&&o.pathname&&(s=o.pathname.includes("edit")),s)?c({title:a.state.title,desc:a.state.desc,media_type:a.state.media_type,thumbnail:a.state.thumbnail,videoUrl:a.state.videoUrl,nasaId:a.state.nasaId}):n(r);l()},a.handleCloseModal=function(){var e=a.props,t=e.location,n=e.close_modal,r=null;t&&t.pathname&&(r=t.pathname.includes("edit")),r?(a.setState({redirect:!0}),n()):n()},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(A.a,{to:"/"})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.product;this.setState({title:e.title,desc:e.desc,media_type:e.media_type,thumbnail:e.thumbnail,videoUrl:e.videoUrl,nasaId:e.nasaId})}},{key:"render",value:function(){var e=this,t=this.props,a=t.product,n=t.global_reducer,o=(t.close_modal,t.location),c=this.state,l=c.title,s=c.desc,i=c.media_type,d=c.thumbnail,m=c.videoUrl,u=null;return o&&o.pathname&&(u=o.pathname.includes("edit")),r.a.createElement("div",{className:"modal-overlay ".concat(n.isModal?"active-modal":"")},r.a.createElement("div",{className:"form-modal"},r.a.createElement("div",{className:"modal-heading"},r.a.createElement("h2",{className:"modal-title"},u?"Edit":"Add to collection"),r.a.createElement("span",{style:{cursor:"pointer"},className:"icon icon-close",onClick:function(){return e.handleCloseModal()}})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"text"},"Title"),r.a.createElement("input",{placeholder:u?l:a.title,type:"text",className:"form-control",name:"title",value:u?l:a.title,disabled:!u,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"desc"},"Description"),r.a.createElement("textarea",{placeholder:u?s:a.desc,type:"text",className:"form-control",name:"desc",value:u?s:a.desc,disabled:!u,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"Type"),r.a.createElement("select",{className:"form-control",name:"type",defaultValue:u?i:a.media_type,onChange:this.handleChange,disabled:!u},r.a.createElement("option",{value:u?i:a.media_type},"Video"),r.a.createElement("option",{value:"saab"},"Saab"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"thumbnail"},"Link preview image url"),r.a.createElement("input",{placeholder:u?d:a.thumbnail,type:"text",className:"form-control",name:"thumbnail",value:u?d:a.thumbnail,disabled:!u,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"videoUrl"},"Link file url"),r.a.createElement("input",{placeholder:u?m:a.videoUrl,type:"text",className:"form-control",name:"videoUrl",value:u?m:a.videoUrl,disabled:!u,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn--purple",value:"submit"},r.a.createElement("span",{className:"icon icon-check left"})," ",u?"Save":"Add to collection")),this.renderRedirect()))}}]),t}(n.Component),T=Object(v.b)(function(e){return{product:e.collection_product,global_reducer:e.global_reducer}},{add_product:function(e){return{type:"ADD_PRODUCT",product:e}},close_modal:C,edit_product:function(e){return{type:"EDIT_PRODUCT",product:e}}})(M),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",items:[],isModal:!1,formItem:[],isLoading:!1},a.handleChange=function(e){a.setState({name:e.target.value})},a.searchItem=function(e){var t=a.props.search_products_request;"Enter"===e.key&&(t(a.state.name),a.setState({isLoading:!0}))},a.openModal=function(){a.setState({isModal:!0})},a.closeModal=function(){a.setState({isModal:!1})},a.handleAddCollection=function(e){var t=a.props,n=t.add_to_collection;(0,t.open_modal)(),e&&n(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.products;t&&t.length>0&&this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.name,o=t.isModal,c=t.formItem,l=t.isLoading,s=this.props.products;return r.a.createElement("div",{className:"nasa-search"},r.a.createElement("div",{className:"breadcrumb"},r.a.createElement(S.a,{to:"/",className:"breadcrumb-item"},r.a.createElement("span",{className:"icon icon-back"}),r.a.createElement("span",{className:"btn-add-text"},"Back to Collection"))),r.a.createElement("h2",{className:"nasa-search-title"},"Search from Nasa"),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"Type something to search...",type:"text",className:"nasa-search-input form-control",value:this.state.name,onChange:this.handleChange,onKeyUp:this.searchItem})),r.a.createElement(T,{isModal:o,formItem:c}),r.a.createElement("p",{className:"result-total",style:{display:a.length>0?"block":"none"}},"".concat(a.length," result for ").concat(n)),l?r.a.createElement(k,{style:{marginBottom:"20px;"}}):"",r.a.createElement("div",{className:"nasa-search-wrap"},s&&s.map(function(t){return r.a.createElement("div",{key:t.nasaId,className:"nasa-search-box","same-height-wrap":"true",style:{display:s?"block":"none"}},r.a.createElement("a",{href:"#"},r.a.createElement("img",{src:t.thumbnail,className:"thumbnail",alt:""})),r.a.createElement("div",{className:"heading"},r.a.createElement("span",{className:"created-date"},j()(t.date_created).format("MMM Do, YYYY"))),r.a.createElement("h3",{className:"title","same-height-header":"true"},t.title),r.a.createElement("p",{className:"description","same-height-body":"true"},"".concat(t.desc.substr(0,100),"...")),r.a.createElement(S.a,{to:{pathname:"/nasa-search",item:t},className:"add-collection-box",onClick:function(){return e.handleAddCollection(t)}},r.a.createElement("span",{className:"icon icon-add"}),r.a.createElement("span",{className:"btn-add-text"},"Add to NASA collection")))})))}}]),t}(n.Component),U=Object(v.b)(function(e){return{products:e.products}},{search_products_request:function(e){return function(t){b.a.get("https://images-api.nasa.gov/search?q=".concat(e)).then(function(e){for(var a=e.data.collection.items.filter(function(e){return e.href.includes("video")}),n=[],r=function(e){for(var r=function(r){var o=a[e].data[r].nasa_id;b.a.get("https://images-api.nasa.gov/asset/".concat(o)).then(function(c){var l=c.data.collection.items[0].href,s=a[e].data[r],i=c.data.collection.items.filter(function(e){return e.href.includes("~mobile_thumb")})[0].href,d={id:_()(),favorite:!1,thumbnail:i,date_created:s.date_created,title:s.title,media_type:s.media_type,nasaId:o,desc:s.description,keywords:s.keywords,videoUrl:l};n.push(d),t(N(n))}).catch(function(e){return console.log(e)})},o=0;o<a[e].data.length;o++)r(o)},o=0;o<a.length;o++)r(o)}).catch(function(e){return console.log(e)})}},add_to_collection:y,close_modal:C,open_modal:O})(L),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={redirect:!1},a.handleCloseModal=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(A.a,{to:"/"})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location;return r.a.createElement("div",{className:"modal-video"},r.a.createElement("div",{className:"modal-wrap"},r.a.createElement("div",{className:"modal-heading"},r.a.createElement("h2",{className:"modal-title"},t.item.title),r.a.createElement("span",{style:{cursor:"pointer"},className:"close-btn icon icon-close",onClick:function(){return e.handleCloseModal()}})),r.a.createElement("div",{className:"modal-body"},r.a.createElement("video",{width:"100%",height:"100%",controls:!0,className:"video-player"},r.a.createElement("source",{src:t.item.videoUrl,type:"video/mp4"}),"Your browser does not support the video tag."))),this.renderRedirect())}}]),t}(n.Component),R=Object(v.b)(null,{close_modal:C})(x),F=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:I}),r.a.createElement(h.a,{path:"/nasa-search",component:U}),r.a.createElement(h.a,{path:"/video/:id",component:R}),r.a.createElement(h.a,{path:"/edit/:id",component:T})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(12),J=a(37),Y=a(38),V={isModal:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V;switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_MODAL":return e={isModal:!0};case"CLOSE_MODAL":return e={isModal:!1};default:return e}},H=a(24),W=a(15),q=[],K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_HOME_PRODUCT":return e=JSON.parse(localStorage.getItem("home_products"));case"ADD_PRODUCT":if(null===JSON.parse(localStorage.getItem("home_products")))e=[t.product],localStorage.setItem("home_products",JSON.stringify(e));else{var a=JSON.parse(localStorage.getItem("home_products"));a.push(t.product),e=a,localStorage.setItem("home_products",JSON.stringify(e))}return e;case"ADD_FAVORITE":var n=t.favorite;return e=Object(W.a)(e.map(function(e){return e.nasaId===t.id?Object(H.a)({},e,{favorite:n}):e})),localStorage.setItem("home_products",JSON.stringify(e)),e;case"EDIT_PRODUCT":var r=t.product;return e=Object(W.a)(e.map(function(e){return e.nasaId===r.nasaId?Object(H.a)({},e,r):e})),localStorage.setItem("home_products",JSON.stringify(e)),e;case"DELETE_PRODUCT":return e=Object(W.a)(e.filter(function(e){return e.id!==t.id})),localStorage.setItem("home_products",JSON.stringify(e)),e;default:return e}},$={},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_COLLECTION":return e=t.product;default:return e}},G=[],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_PRODUCTS":return e=Object(W.a)(t.products);default:return e}},X=Object(P.combineReducers)({products:Q,collection_product:z,home_products:K,global_reducer:B}),Z=[Y.a],ee=Object(P.createStore)(X,Object(J.composeWithDevTools)(P.applyMiddleware.apply(void 0,Z)));c.a.render(r.a.createElement(v.a,{store:ee},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.64d99b96.chunk.js.map